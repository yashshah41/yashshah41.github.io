{"version":3,"sources":["../../../src/server/lib/start-server.ts"],"names":["http","https","Log","setupDebug","getDebugPort","formatHostname","initialize","fs","checkIsNodeDebugging","debug","getRequestHandlers","dir","port","isDev","hostname","minimalMode","isNodeDebugging","keepAliveTimeout","experimentalTestProxy","dev","workerType","startServer","allowRetry","isExperimentalTestProxy","logReady","selfSignedCertificate","handlersReady","handlersError","handlersPromise","Promise","resolve","reject","requestHandler","req","res","Error","upgradeHandler","socket","head","requestListener","undefined","err","statusCode","end","error","url","console","server","createServer","key","readFileSync","cert","on","destroy","portRetryCount","code","warn","listen","process","exit","addr","address","actualHostname","formattedHostname","appUrl","debugPort","info","ready","env","PORT","cleanup","close","exception","initResult","Boolean"],"mappings":"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"}