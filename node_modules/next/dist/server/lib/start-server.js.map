{"version":3,"sources":["../../../src/server/lib/start-server.ts"],"names":["getRequestHandlers","startServer","debug","setupDebug","dir","port","isDev","hostname","minimalMode","isNodeDebugging","keepAliveTimeout","experimentalTestProxy","initialize","dev","workerType","allowRetry","isExperimentalTestProxy","logReady","selfSignedCertificate","handlersReady","handlersError","handlersPromise","Promise","resolve","reject","requestHandler","req","res","Error","upgradeHandler","socket","head","requestListener","undefined","err","statusCode","end","Log","error","url","console","server","https","createServer","key","fs","readFileSync","cert","http","on","destroy","portRetryCount","code","warn","listen","process","exit","checkIsNodeDebugging","addr","address","actualHostname","formatHostname","formattedHostname","appUrl","debugPort","getDebugPort","info","ready","env","PORT","cleanup","close","exception","initResult","Boolean"],"mappings":"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"}